function initialize(){geocoder=new google.maps.Geocoder;var t=new google.maps.LatLng(43.2942778,5.3559142),e={zoom:14,center:t,scrollwheel:!1,panControl:!1,zoomControl:!1,scaleControl:!1,navigationControl:!1,mapTypeControl:!1,overviewMapControl:!1,streetViewControl:!1},i=new google.maps.Map(document.getElementById("map"),e),a=new google.maps.LatLng(43.2942778,5.3559142);new google.maps.Marker({position:a,map:i,title:"Marseille"})}function onYouTubeIframeAPIReady(){$("[data-rypp]").each(function(t,e){$(e)[0].rypp_data_obj.onYTIframeAPIReadyCallback()})}var geocoder;google.maps.event.addDomListener(window,"load",initialize);var RYPP=function(t,e){"use strict";function i(t,e,i){return"undefined"==typeof e?(console.log("Youtube API V3 requires a valid API KEY.\nFollow the instructions at: https://developers.google.com/youtube/v3/getting-started"),!1):(this.DOM={},this.options={},this.data={ytapi:{playlist_info:"https://www.googleapis.com/youtube/v3/playlists?part=snippet&id={{RESOURCES_ID}}&key={{YOUR_API_KEY}}",playlist:"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId={{RESOURCES_ID}}&key={{YOUR_API_KEY}}",pl_ID:"",videolist:"https://www.googleapis.com/youtube/v3/videos?part=snippet,status&maxResults=50&id={{RESOURCES_ID}}&key={{YOUR_API_KEY}}"},temp_vl:[],firsttime:!0,ismobile:"undefined"!=typeof window.orientation,ispopulated:!1},void this.init(t,e,i))}return i.prototype={init:function(e,i,a){if(this.api_key=i,this.options={update_title_desc:!1,autoplay:!0,autonext:!0,loop:!0,mute:!1,debug:!1},"undefined"!=typeof a&&t.extend(this.options,a),this.DOM={},this.DOM.$el=t(e),this.DOM.$playlc=this.DOM.$el.find(".RYPP-playlist"),this.DOM.$items=this.DOM.$el.find(".RYPP-items"),this.DOM.$videoc=this.DOM.$el.find(".RYPP-video"),this.DOM.$title=this.DOM.$el.find(".RYPP-title"),this.DOM.$desc=this.DOM.$el.find(".RYPP-desc"),this.DOM.$el[0].ytplayer=null,this.data.player_uid=Math.random().toString(16).substr(2,8),this.DOM.$el.attr("data-rypp",this.data.player_uid).find(".RYPP-video-player").attr("id","RYPP-vp-"+this.data.player_uid).attr("name","RYPP-vp-"+this.data.player_uid),this.options.debug&&console.log("Unique ID: RYPP-vp-"+this.data.player_uid),"undefined"==typeof window.YT){var s=document.createElement("script"),o=document.getElementsByTagName("head")[0];s.src="https://www.youtube.com/iframe_api?version=3",o.appendChild(s)}else this.addAPIPlayer()},onYTIframeAPIReadyCallback:function(){this.addAPIPlayer()},updateTitleDesc:function(){var e=this.DOM.$el.attr("data-playlist"),i=this.data.ytapi.playlist_info.replace("{{RESOURCES_ID}}",e).replace("{{YOUR_API_KEY}}",this.api_key);t.ajaxSetup({cache:!1}),t.ajax(i,{context:this,dataType:"json",crossDomain:!0,error:function(){},success:function(t){this.DOM.$title.html(t.items[0].snippet.title),this.DOM.$desc.html(t.items[0].snippet.description)}})},populatePlaylist:function(){if(this.options.update_title_desc&&(this.options.debug&&console.log(this.data.player_uid+": Updating playlist title / desc"),this.updateTitleDesc()),this.options.debug&&console.log(this.data.player_uid+": Populating playlist"),this.DOM.$items.html("").append(t("<ol>")),this.DOM.$el.attr("data-playlist"))this.data.pl_ID=this.DOM.$el.attr("data-playlist"),this.getVideosFrom("playlist",this.data.pl_ID);else if(this.DOM.$el.attr("data-ids")){var e=this.DOM.$el.attr("data-ids");e=t.map(e.split(","),t.trim).join(","),this.getVideosFrom("videolist",e)}},addAPIPlayer:function(){var t=this;window.YTConfig={host:"https://www.youtube.com"},this.DOM.$el[0].ytplayer=new YT.Player("RYPP-vp-"+t.data.player_uid,{playerVars:{enablejsapi:1,rel:0,modestbranding:1,wmode:"transparent"},events:{onReady:function(){t.options.debug&&console.log(t.data.player_uid+": ytplayer ready"),t.onPlayerReady()},onStateChange:function(e){t.onPlayerStateChange(e)},onError:function(t){console.log(t)}}})},onPlayerReady:function(){this.options.debug&&console.log(this.data.player_uid+": ytplayer ready callback"),this.populatePlaylist()},onPlayerStateChange:function(t){var e=this;if("undefined"!=typeof t){-1===t.data&&this.data.firsttime&&(this.options.autoplay||this.data.ismobile||(this.DOM.$el[0].ytplayer.stopVideo(),this.data.firsttime=!1),this.options.mute&&this.DOM.$el[0].ytplayer.mute()),3===t.data&&this.data.ismobile&&this.data.firsttime&&setTimeout(function(){e.DOM.$el[0].ytplayer.stopVideo(),e.data.firsttime=!1},500);var i=null;0===t.data&&!this.data.ismobile&&this.options.autonext&&(i=this.DOM.$items.find("li.selected").next(),0===i.length&&this.options.loop&&(i=this.DOM.$items.find("li").first()),i.trigger("click"))}},getVideosFrom:function(e,i,a){var s=this,o=this.data.ytapi[e].replace("{{RESOURCES_ID}}",i).replace("{{YOUR_API_KEY}}",this.api_key);"undefined"!=typeof a&&(o+="&pageToken="+a),t.ajaxSetup({cache:!1}),t.ajax(o,{context:this,dataType:"json",crossDomain:!0,error:function(){},success:function(e){if("youtube#playlistItemListResponse"===e.kind){var i=[];if(t.map(e.items,function(t,e){"undefined"!=typeof t.snippet.resourceId.videoId&&i.push(t.snippet.resourceId.videoId)}),s.data.temp_vl.push(i),"undefined"!=typeof e.nextPageToken&&""!==e.nextPageToken)s.getVideosFrom("playlist",s.data.pl_ID,e.nextPageToken);else for(var a=0,o=s.data.temp_vl.length;o>a;a++)i=s.data.temp_vl.shift(),s.getVideosFrom("videolist",i.join(","))}else if("youtube#videoListResponse"===e.kind)for(var l=0,n=e.items.length;n>l;l++){var d=e.items[l];if(-1===t.inArray(d.status.uploadStatus,["rejected","deleted","failed"])&&"undefined"!=typeof d.snippet.thumbnails){var r=d.id,p=d.snippet.title,u=d.snippet.channelTitle,c=d.snippet.thumbnails["default"].url;s.addVideo2Playlist(r,p,u,c)}t.isEmptyObject(s.data.temp_vl)&&this.startPlayList()}}})},startPlayList:function(){var e=this.DOM,i=null,a=this;e.$items.on("click touchstart","li",function(s){s.preventDefault(),e.$items.find("li").removeClass("selected"),t(this).addClass("selected"),i=t(this).data("video-id"),a.DOM.$el[0].ytplayer.loadVideoById(i),a.data.ismobile&&(a.data.firsttime=!0)}),0===e.$items.find("li.selected").length&&e.$items.find("li").first().click()},addVideo2Playlist:function(e,i,a,s){var o=this.DOM;t('<li data-video-id="'+e+'"><p class="title">'+i+'<small class="author"><br>'+a+'</small></p><img src="'+s+'" class="thumb"></li>').appendTo(o.$items.find("ol"))}},i}(jQuery);$.fn.rypp=function(t,e){return this.each(function(){this.rypp_data_obj=new RYPP(this,t,e)})},$(document).ready(function(){$(window).scroll(function(){$(document).scrollTop()>150?$(".navbar").addClass("shrink"):$(".navbar").removeClass("shrink")});var t="AIzaSyCmetv5ZMPHpEekJHXpfrkgvF2TTyRFar4";$(".RYPP").rypp(t,{autoplay:!1})}),$('[data-spy="scroll"]').each(function(){$(this).scrollspy("refresh")}),$("#navbarSpy").on("activate.bs.scrollspy",function(){var t=$(".nav li ul li.active > a").attr("id");1&t?($(".zone").addClass("color-2"),$(".zone").removeClass("color-1"),$(".background-text").addClass("color-2-text"),$(".background-text").removeClass("color-1-text")):($(".zone").addClass("color-1"),$(".zone").removeClass("color-2"),$(".background-text").addClass("color-1-text"),$(".background-text").removeClass("color-2-text"))}),$.stellar();